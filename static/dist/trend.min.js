"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}new Vue({el:"#vue-chart",data:{lotteryType:"ssc",lottery:"CQSSC",tabCode:"ssc-5x",trendData:[],lotteryConfig:{ssc:{typeCnName:"时时彩系列",lotteries:[{code:"CQSSC",cnName:"重庆时时彩"},{code:"TJSSC",cnName:"天津时时彩"},{code:"XJSSC",cnName:"新疆时时彩"},{code:"XN5FC",cnName:"悉尼5分彩"},{code:"BJ5FC",cnName:"北京5分彩"},{code:"TW5FC",cnName:"台湾5分彩"},{code:"HN5FC",cnName:"河内5分彩"},{code:"RDFFC",cnName:"瑞典1分彩"},{code:"RDLFC",cnName:"瑞典2分彩"},{code:"RBSSM",cnName:"日本30秒"},{code:"QQSSM",cnName:"QQ30秒"},{code:"WBGFFC",cnName:"WBG分分彩"},{code:"TXFFC",cnName:"腾讯分分彩"},{code:"WBG5FC",cnName:"WBG5分彩"},{code:"PL5",cnName:"排列5"}],tabs:[{en:"ssc-5x",cn:"五星"},{en:"ssc-4x",cn:"四星"},{en:"ssc-q3",cn:"前三"},{en:"ssc-z3",cn:"中三"},{en:"ssc-h3",cn:"后三"},{en:"ssc-q2",cn:"前二"},{en:"ssc-h2",cn:"后二"},{en:"ssc-qw&nn",cn:"趣味玩法&牛牛"}]},"11y":{typeCnName:"11选5系列",lotteries:[{code:"GD11Y",cnName:"广东11选5"},{code:"AH11Y",cnName:"安徽11选5"},{code:"MC11Y",cnName:"摩臣11选5"},{code:"SD11Y",cnName:"山东11选5"},{code:"JX11Y",cnName:"江西11选5"},{code:"SH11Y",cnName:"上海11选5"},{code:"HLJ11Y",cnName:"黑龙江11选5"},{code:"YN11Y",cnName:"云南11选5"},{code:"HUB11Y",cnName:"湖北11选5"}],tabs:[{en:"11y-3x",cn:"三星"}]},pk10:{typeCnName:"pk10系列",lotteries:[{code:"BJPK10",cnName:"北京pk10"},{code:"MCPK10",cnName:"摩臣pk10"},{code:"XGPK10",cnName:"香港pk10"}],tabs:[{en:"pk10-q5",cn:"前五名"},{en:"pk10-h5",cn:"后五名"}]},k3:{typeCnName:"快3系列",lotteries:[{code:"MCK3",cnName:"摩臣快3"},{code:"JSK3",cnName:"江苏快3"},{code:"HNK3",cnName:"河南快3"},{code:"HBK3",cnName:"湖北快3"},{code:"JLK3",cnName:"吉林快3"},{code:"AHK3",cnName:"安徽快3"}],tabs:[{en:"k3-3x",cn:"三星"}]},"3d":{typeCnName:"3D/低频系列",lotteries:[{code:"MC3D",cnName:"摩臣3D"},{code:"SHSSL",cnName:"上海时时乐"},{code:"FC3D",cnName:"福彩3D"},{code:"PL3",cnName:"排列3"}],tabs:[{en:"3d-3x",cn:"三星"}]},kl12:{typeCnName:"快乐12",lotteries:[{code:"SCKL12",cnName:"四川快乐12"}],tabs:[{en:"kl12-all",cn:"所有位置"}]},ky481:{typeCnName:"快赢481",lotteries:[{code:"HNKY481",cnName:"河南快赢481"}],tabs:[{en:"ky481-all",cn:"四星"}]}},lotteryDefaultType:"ssc",lotteryDefaultObj:{ssc:"CQSSC","11y":"GD11Y",pk10:"BJPK10",k3:"JSK3","3d":"FC3D",lhc:"XGLHC",kl12:"SCKL12",ky481:"HNKY481"},tabDefaultObj:{ssc:"ssc-5x","11y":"11y-3x",pk10:"pk10-q5",k3:"k3-3x","3d":"3d-3x",kl12:"kl12-all",ky481:"ky481-all"},checkedConfig:[{id:"miss",value:"miss",model:"yes",text:"遗漏"},{id:"miss-bar",value:"missBar",model:"yes",text:"遗漏条"},{id:"trend-line",value:"trendLine",model:"yes",text:"走势图折线"},{id:"cold-hot-number",value:"coldHotNumber",model:"yes",text:"冷热号"}],issuePeriodConfig:[{en:30,cn:"近30期"},{en:50,cn:"近50期"},{en:100,cn:"近100期"},{day:1,cn:"今日数据"},{day:2,cn:"近2天"}],issuePeriod:"",selectNumObj:{ssc:[0,1,2,3,4,5,6,7,8,9],"11y":["01","02","03","04","05","06","07","08","09","10","11"],pk10:["01","02","03","04","05","06","07","08","09","10"],k3:[1,2,3,4,5,6],"3d":[0,1,2,3,4,5,6,7,8,9],kl12:["01","02","03","04","05","06","07","08","09","10","11","12"],ky481:[1,2,3,4,5,6,7,8]},posConfig:{"ssc-5x":{0:"万位",1:"千位",2:"百位",3:"十位",4:"个位"},"ssc-4x":{1:"千位",2:"百位",3:"十位",4:"个位"},"ssc-q3":{0:"万位",1:"千位",2:"百位"},"ssc-z3":{1:"千位",2:"百位",3:"十位"},"ssc-h3":{2:"百位",3:"十位",4:"个位"},"ssc-q2":{0:"万位",1:"千位"},"ssc-h2":{3:"十位",4:"个位"},"11y-3x":{0:"万位",1:"千位",2:"百位",3:"十位",4:"个位"},"pk10-q5":{0:"冠军",1:"亚军",2:"季军",3:"第四名",4:"第五名"},"pk10-h5":{5:"第六名",6:"第七名",7:"第八名",8:"第九名",9:"第十名"},"k3-3x":{0:"第一位",1:"第二位",2:"第三位"},"3d-3x":{0:"百位",1:"十位",2:"个位"},"kl12-all":{0:"万位",1:"千位",2:"百位",3:"十位",4:"个位"},"ky481-all":{0:"自由泳",1:"仰泳",2:"蛙泳",3:"蝶泳"}},missBarColor:"#dadae5",missLineColor:"#C84C59"},computed:{lotteryArrs:function(){return this.lotteryConfig[this.lotteryType].lotteries},tabsArr:function(){return this.lotteryConfig[this.lotteryType].tabs},isMiss:function(){return"yes"===this.checkedConfig.find(function(e){return"miss"===e.id}).model},isMissBar:function(){return"yes"===this.checkedConfig.find(function(e){return"miss-bar"===e.id}).model},isLine:function(){return"yes"===this.checkedConfig.find(function(e){return"trend-line"===e.id}).model},isHotCold:function(){return"yes"===this.checkedConfig.find(function(e){return"cold-hot-number"===e.id}).model}},methods:{ajaxTrendData:function(){var t=this;axios.get("./json/"+this.lotteryType+".json").then(function(e){t.trendData=e.data.result.data}).catch(function(e){console.log(e)})},receiveLottery:function(e){this.lottery=e},receiveLotteryType:function(e){this.lotteryType=e},receiveTab:function(e){this.tabCode=e},receivePeriod:function(e){this.issuePeriod=e.cn||e.day},toggleMiss:function(e){e?[].concat(_toConsumableArray(document.querySelectorAll(".js-miss-num"))).forEach(function(e){return e.style.display="inline-block"}):[].concat(_toConsumableArray(document.querySelectorAll(".js-miss-num"))).forEach(function(e){return e.style.display="none"})},getHotAndColdObj:function(){var n={};[].concat(_toConsumableArray(document.querySelectorAll(".js-selected-num"))).forEach(function(e){var t=e.innerText;n[t]?n[t]++:n[t]=1});var e=Object.values(n),t=Math.max.apply(Math,_toConsumableArray(e)),o=Math.min.apply(Math,_toConsumableArray(e)),c=[],s=[];if(t===o)return{hotArr:[],coldArr:[]};for(var a in n)n[a]===t&&c.push(a),n[a]===o&&s.push(a);return{hotArr:c,coldArr:s}},toggleHotAndCold:function(t){var n=this.getHotAndColdObj();[].concat(_toConsumableArray(document.querySelectorAll(".js-selected-num"))).forEach(function(e){t?(-1!==n.hotArr.indexOf(e.innerText)&&!e.classList.contains("hot")&&e.classList.add("hot"),-1!==n.coldArr.indexOf(e.innerText)&&!e.classList.contains("cold")&&e.classList.add("cold")):(e.classList.contains("hot")&&e.classList.remove("hot"),e.classList.contains("cold")&&e.classList.remove("cold"))})},getMissCoordinateObj:function(){var e=[].concat(_toConsumableArray(document.querySelectorAll(".js-selected-num"))),a={};return e.forEach(function(e,t){var n=e.getAttribute("pos-index");a[n]=a[n]||[];var o=e.offsetWidth,c=offsetDis(e).left+o/2,s=offsetDis(e).top;a[n].push({x:c,y:s})}),a},getMissBarCoordinateArr:function(){var e=[],t=[].concat(_toConsumableArray(document.querySelectorAll(".js-selected-num"))),l={};for(var n in t.forEach(function(e,t){var n=e.getAttribute("pos-index"),o=e.getAttribute("num-index");l[n+"-"+o]=l[n+"-"+o]||[];var c=offsetDis(e).left-e.offsetLeft,s=offsetDis(e).top+e.offsetTop+e.offsetHeight,a=e.parentElement,r=a.offsetWidth,i=a.parentElement,d=document.querySelector("tfoot").offsetTop-i.offsetTop-a.offsetHeight;l[n+"-"+o].push({x:c,y:s,width:r,height:d})}),l){var o=l[n];o.sort(function(e,t){return t.y-e.y}),e.push(o[0])}return e},createCanvas:function(e){var t=void 0,n=void 0;return document.getElementById(e)?(t=document.getElementById(e),n=document.getElementById(e).getContext("2d")):((t=document.createElement("canvas")).id=e,t.width=document.body.scrollWidth,t.height=document.body.scrollHeight,document.body.appendChild(t),n=t.getContext("2d")),{canvas:t,context:n}},drawMissBar:function(e){var t=this.createCanvas("js-draw-bar").canvas,s=this.createCanvas("js-draw-bar").context;if(e){s.clearRect(0,0,t.width,t.height);var n=this.getMissBarCoordinateArr();s.beginPath(),s.fillStyle=this.missBarColor,n.forEach(function(e){var t=e.x,n=e.y,o=e.width,c=e.height;s.rect(t,n,o,c),s.fill()})}else s.clearRect(0,0,t.width,t.height)},drawLine:function(e){var t=this.createCanvas("js-draw-line").canvas,n=this.createCanvas("js-draw-line").context;if(e){var o=document.querySelector(".js-selected-num").offsetHeight;n.clearRect(0,0,t.width,t.height);var c=this.getMissCoordinateObj();for(var s in n.beginPath(),n.strokeStyle=this.missLineColor,c){for(var a=c[s],r=0,i=a.length;r<i-1;r++){var d=a[r].x,l=a[r].y+o,u=a[r+1].x,h=a[r+1].y;n.moveTo(d,l),n.lineTo(u,h)}n.stroke()}}else n.clearRect(0,0,t.width,t.height)},callbackDraw:function(e){var t=!0,n=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){switch(c.value.text){case"遗漏":this.toggleMiss(this.isMiss);break;case"遗漏条":this.drawMissBar(this.isMissBar);break;case"走势图折线":this.drawLine(this.isLine);break;case"冷热号":this.toggleHotAndCold(this.isHotCold)}}}catch(e){n=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw o}}}},watch:{checkedConfig:{deep:!0,handler:function(e,t){this.callbackDraw(e)}},lottery:function(e,t){this.trendData=[],this.ajaxTrendData(),this.drawMissBar(!1),this.drawLine(!1)},issuePeriod:function(e,t){this.ajaxTrendData(),this.drawMissBar(!1),this.drawLine(!1)}},beforeCreate:function(){},created:function(){this.ajaxTrendData()},beforeMount:function(){},mounted:function(){},updated:function(){var e=this;this.$nextTick(function(){if("ssc-qw&nn"===e.tabCode)return e.drawMissBar(!1),void e.drawLine(!1);document.querySelector(".js-selected-num")&&e.callbackDraw(e.checkedConfig)})}});
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}function calcEachTotal(r,n,u){var t=[],e=function(e){var r=[];n.forEach(function(n){var t=0;u.forEach(function(r){Number(r[e])===Number(n)&&(t+=1)}),r.push(t)}),t.push(r)};for(var a in r)e(a);return t}function caclDistributionTotalArr(r,n,t){var e=[],u=Object.keys(r),a=t.map(function(n){var t=[];return u.forEach(function(r){t.push(n[r])}),t});return n.forEach(function(n){var t=0;a.forEach(function(r){t+=r.filter(function(r){return Number(r)===Number(n)}).length}),e.push(t)}),e}function getDistributionMissAndContinuousObj(r,n,t){var u=[],e=Object.keys(r),a=t.map(function(n){var t=[];return e.forEach(function(r){t.push(n[r])}),t});n.forEach(function(t){var e=[];a.forEach(function(r,n){-1!==r.map(function(r){return Number(r)}).indexOf(Number(t))&&e.push(n+1)}),u.push(e)});var i=a.length;return{missArr:u.map(function(r){return calcMaxMiss(r,i)}),continuousArr:u.map(function(r){return r.sort(function(r,n){return r-n}),0===r.length?0:0<filterShunziArr(r).length?filterShunziArr(r).sort(function(r,n){return n.length-r.length})[0].length:1})}}function getMissAndContinuousObj(r,n,a){var t=[],e=function(u){var r=[];n.forEach(function(t){var e=[];a.forEach(function(r,n){Number(r[u])===Number(t)&&e.push(n+1)}),r.push(e)}),t.push(r)};for(var u in r)e(u);return{missArr:t.map(function(r){var n=a.length;return r.map(function(r){return calcMaxMiss(r,n)})}),continuousArr:t.map(function(r){return r.map(function(r){return r.sort(function(r,n){return r-n}),0===r.length?0:0<filterShunziArr(r).length?filterShunziArr(r).sort(function(r,n){return n.length-r.length})[0].length:1})})}}function calcMaxMiss(r,n){var t=r.map(function(r){return Number(r)});if(t.sort(function(r,n){return r-n}),0===t.length)return n;if(1===t.length)return Math.max.apply(Math,[n-t[0],t[0]-1]);if(2===t.length)return Math.max.apply(Math,[n-t[1],t[1]-t[0],t[0]-1]);var e=[],u=Math.min.apply(Math,_toConsumableArray(t)),a=Math.max.apply(Math,_toConsumableArray(t));e.push(u-1),e.push(n-a);for(var i=0,o=t.length;i<o-1;i++)e.push(t[i+1]-t[i]-1);return Math.max.apply(Math,e)}function filterShunziArr(r){for(var n,t=r.length,e=r[0],u=1,a=[],i=[];u<t;u++)(n=r[u])-e==1?(0===a.length&&a.push(e),a.push(n)):(a.length&&i.push(a),a=[]),e=n;return a.length&&i.push(a),i}function cacl3xZutai(r){if(!Array.isArray(r))throw new Error("所传参数必须是数组");if(3!==r.length)throw new Error("数组只能含3个数字");r=r.map(function(r){return Number(r)});return{1:"豹子",2:"组三",3:"组六"}[[].concat(_toConsumableArray(new Set(r))).length]}function calcKuadu(r){if(!Array.isArray(r))throw new Error("所传参数必须是数组");return r=r.map(function(r){return Number(r)}),Math.max.apply(Math,_toConsumableArray(r))-Math.min.apply(Math,_toConsumableArray(r))}function calcHezhi(r){if(!Array.isArray(r))throw new Error("所传参数必须是数组");return(r=r.map(function(r){return Number(r)})).reduce(function(r,n){return r+n})}function calc2xDuizi(r){if(!Array.isArray(r))throw new Error("所传参数必须是数组");if(2!==r.length)throw new Error("数组只能含2个数字");return r=r.map(function(r){return Number(r)}),1===[].concat(_toConsumableArray(new Set(r))).length}function calcLhh(r,n){return n<r?'<em class="long">龙</em>':r<n?'<em class="hu">虎</em>':'<em class="he">和</em>'}function calcNiuniu(r){var n=(r=r.map(function(r){return Number(r)})).reduce(function(r,n){return r+n})%10,t=void 0,e=void 0,u=void 0;return-1!==choose(r,3).findIndex(function(r){var n=r.reduce(function(r,n){return r+n});return 10===n||0===n})?(t=0===n?'<em class="niuniu">牛牛</em>':'<em class="niuniu">牛'+n+"</em>",e=-1!==[6,7,8,9,0].indexOf(n)?'<em class="niuda">牛大</em>':'<em class="niuxiao">牛小</em>',u=n%2==0?'<em class="niushuang">牛双</em>':'<em class="niudan">牛单</em>'):(t='<em class="niuniu">无牛</em>',u=e="---"),{nn:t,dx:e,ds:u}}function choose(r,n){var c=[];return function r(n,t,e){var u=n.length;if(!(u<t))if(t==u)c.push([].concat(e,n));else for(var a=0;a<u;a++){var i=[].concat(e);if(i.push(n[a]),1==t)c.push(i);else{var o=[].concat(n);o.splice(0,a+1),r(o,t-1,i)}}}(r,n,[]),c}function calcBjl(r){var n=(r=r.map(function(r){return Number(r)}))[0],t=r[1],e=r[2],u=(n+t)%10,a=(e+r[3])%10,i="";return a<u?(n===t&&(i='<em class="zhuangdui">庄对</em>'),6===u&&a<6?'<i><em class="s6">S6'+i+"</em>":'<i><em class="zhuang">庄'+i+"</em>"):u<a?(e==e&&(i='<em class="xiandui">闲对</em>'),'<i><em class="xian">闲'+i+"</em>"):'<i><em class="he">和</em></i>'}function arrToCountItemObj(r){var n=Object.create(null),t=!0,e=!1,u=void 0;try{for(var a,i=r[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;n[o]?n[o]++:n[o]=1}}catch(r){e=!0,u=r}finally{try{!t&&i.return&&i.return()}finally{if(e)throw u}}return n}function calcShunzi(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:9;if((t=t.map(function(r){return Number(r)})).sort(function(r,n){return r-n}),t[t.length-1]>n)throw Error("数组元素最大值超过预期，错误");if(t.every(function(r,n){return 0==n||r-t[n-1]==1}))return!0;for(var e=[],u=r;u<n+1;u++)-1===t.indexOf(u)&&e.push(u);return e.every(function(r,n){return 0==n||r-e[n-1]==1})}function calcBanshunzi(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:9;if(calcShunzi(r=r.map(function(r){return Number(r)}),n,t))return!1;if(-1!==r.indexOf(n)&&-1!==r.indexOf(t))return!0;r.sort(function(r,n){return r-n});for(var e=[],u=r[0],a=1;a<r.length;a++)e.push(r[a]-u),u=r[a];return-1!==e.indexOf(1)}function offsetDis(r){for(var n=0,t=0;r;)n=n+r.offsetLeft+r.clientLeft,t=t+r.offsetTop+r.clientTop,r=r.offsetParent;return{left:n,top:t}}